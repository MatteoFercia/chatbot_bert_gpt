import csv
import openai
openai.api_key = "API"

class Responder:
 def __init__(self):
  pass

 def answer_to(self, question):
  response = openai.Answer.create(
   search_model="ada",
   model="text-davinci-002",
   question=question,
   documents=["How do I find my ideal room?It's Easy.You have two options:You can use the search bar on the home page to select the city of your interest.You can click directly on the city voice of the menu.On the page dedicated to the city, use the filters to set the parameters of your interest.", "Are all the Stanza Semplice® apartments the same?The apartments of each Italian city are renovated and furnished following a precise format conceived from the suggestions and indications of our own customers.Every detail is designed to meet the student's needs.", "How do I use the filters?In the upper bar of the city page, you will find the filters section where you can set some parameters:Order: choose if you prefer to see the rooms in order of availability or price.Monthly rent: select the price range of your interest.Arrival date: use the calendar to set the date from which you need the room. To open it, just click with the mouse on the calendar icon.Map: shows you the city map.You don't have to confirm each modification to the filters since the update is automatic.", 'How do I choose the city area?The description of each room includes the location of the apartment. You can visualize it by using the map.In this same section, you will find the main points of interest of the area as well as information like public transport and other services that allow you to make an informed choice.', 'Are the pictures of the room always real?The pictures correspond exactly to reality in most cases. You will see representative photos not corresponding to the room just on some rare occasions.Anyway, Stanza Semplice® adopts the same image quality standard in all Italian cities. That is why every picture is absolutely in line with reality.The photographs were taken using the home staging kit which introduces some decorative elements that are not supplied.', 'Can I visit the room before submitting the request?Surely! By clicking on the REQUEST INFO button you can get in touch with your Apartment Manager and arrange a visit to the place of interest.In any case, we use the same format in all Italian cities to guarantee a homogeneous quality standard. Our apartments respect the same pattern from Trieste to Messina without distinction of furnishings and quality in terms of renovation.', 'Which documents do I need to book the room?You will need some documents to block a room and complete the reservation. These documents will allow us to prepare all the necessary documentation to formalize the contract.The information and documents requested are essential to register the contract correctly.They are:Fiscal CodeUniversity enrollment, or pre-registration, or valid cardIdentity card, or passport, or driving license', 'What can I do if I not have a tax code?Italian law requires the unique identification code, also called the tax code, to formalize a lease agreement. Every citizen, whether Italian or foreign, must possess it for tax reasons. That why is essential you have the tax code. Read below how to obtain it: - Through the Revenue Agency You can physically go to an office of the Revenue Agency with identification documents (identity card/passport with visa/residence permit). To avoid wasting time, we recommend calling the local office closest to you to receive confirmation. Depending on the agency of reference,  you will be able to make an appointment or not.', 'Do I have to pay agency fees?No, Stanza Semplice® is not a real estate agency. For this reason, there is no brokerage fee.', 'Which costs do I have to face up to get a room?To get a room, you will have to sustain a one-time expense ranged between € 200 and € 400 depending on the city of reference.During the booking and/or information request phase, your Apartment Manager will provide you the specifications relating to your city.This amount will be used to pay:Annual Club Stanza Semplice® membershipContract registrationCleaning at the end of the leaseRestoration of plaster at the end of the lease50% of the registration taxstamps', 'If I decide to renew the contract for the second/third year, which are the costs?You will only have to pay the annual membership of the Stanza Semplice® Club, half registration tax, and the revenue stamps. In this case, the amount is between € 100 and € 200 depending on the city.Please refer to your Apartment Manager for expense details.', 'Where and when can I enter the room?After booking your room you can agree with your Apartment Manager the date and times for the collection of the keys and instructions for your entry into the room. This operation must be done at least a week in advance, to be able to guarantee the delivery of the room at the times most congenial to you.', 'Can I enter the room at any time?No, it is important to agree with the Apartment Manager at least a week in advance to define the entry time. For this reason it is very important that you manage to organize yourself well with the timetables of the trains, planes or other transports that you will use to reach the city.In the event that it is not possible for you to reach the place of the appointment in time, inform immediately your Apartment Manager who will indicate the facilities to stay in while waiting for the next appointment for the delivery of the keys.', 'Can I delegate to someone the collection of the keys and the delivery of the room?The contract is closely linked to the person who signed it, with legal validity.For this reason, the person who will collect the keys and take over the room cannot be anyone other than the contract holder himself.It is therefore not possible to delegate this process, not even to relatives and family members.', "What documents should I bring to enter the room?It's enough to have an identity document and a tax code.", 'Is the contract shared with the other tenants of the house?Contracts with Stanza Semplice® are individual. Each tenant has his own contract with his rent; the other rooms do not affect your contractual position in any way.', 'What is the duration of the contract?The contracts follow the university cycle and in most cases have a duration of 12 months. However, in some cases, and subject to availability, it will be possible to make contracts of shorter duration.', 'Can I terminate my contract early during the term of the contract?Of course, during the course of your contract you will be able to withdraw from the contract with pre-established notice and for serious reasons. Your Apartment Manager will help you find your replacement right away.', 'I have a problem and I need to leave the room immediately. How can I do?Notify your Apartment Manager who will act immediately to find you a replacement as quickly as possible, in order to help you expedite the notice of withdrawal from the contract. This cannot be guaranteed as it depends on many factors and variables, but we will do what we can to help you.', 'Can I view the room before signing the contract?If you prefer to view the room before booking it, you can contact the Apartment Manager directly.To contact him, enter the menu of the chosen room and fill out the form on request info. Alternatively, you can find the reference contacts at the top of the room menu.Where present you can view virtual tours and videos of the apartments, in this way you can realize the spaces and environments in a realistic way.If you have found the right room for you, we suggest you book it online immediately. In some periods of the year there is a very high demand, do not run the risk of letting it slip away.', 'What do I need to live in the house?Your experience in Stanza Semplice® will have to relieve you of all worries and obligations.For this reason, inside our apartments you will find everything you need for cooking, namely the fully equipped kitchen (glasses, pots, cutlery, plates, cups, etc.).The rooms are fully furnished and designed to maximize comfort. Each room is equipped with a bed, mattress, hygienic mattress cover, desk, chair, bedside table, curtains, hangers and other furnishing accessories. You will need to bring linens, sheets, towels and pillows with you.If you prefer, you can buy a supply of Stanza Semplice® branded linen, ask your Apartment Manager for information.', 'Who are my roommates?Your roommates are students carefully selected by the Apartment Manager who will have previously checked all the requirements before renting them the room. You will find people from all countries, Erasmus or Italian students.Most of our apartments are mixed, as this turned out to be the best solution for living together.The Stanza Semplice® Apartment Manager will try to balance the presence of boys and girls in every single ap', 'How many rooms do the Stanza Semplice® apartments have?All our apartments consist of a number of rooms ranging from 3 to 10. In most cases, the apartment consists of 5 rooms, 5 people live inside, each with its own room', 'Do you also have double rooms?No, Stanza Semplice® offers only single rooms.', 'What size are the beds?Simple Room® provides different types of bed. They vary according to the size of the room and its conformation.However, these are always standard sizes.The Stanza Semplice® classic bed measures 90x200.In some you can find a bed with a container with two drawers that has a size of 80x200.In other cases you can find the French bed which measures 140x200.', 'What happens if, as soon as I enter the room, I find some anomaly?Upon delivery of the room, a delivery report will be drawn up which certifies the exact condition of the room you have rented.Each room is checked and cleaned in advance according to the standards set by Stanza Semplice® which will check every detail. However, if you find any imperfections or anomalies, you can report it to your Apartment Manager within 48 hours after the room has been delivered. In this case we will intervene immediately to solve the problem.', 'Is it possible to leave or send packages in the apartment before I enter?Stanza Semplice® has no responsibility for the reception and storage of packages.It is possible to send or deposit packages inside the apartment only after taking delivery of the room.', 'Is my room cleaned and sanitized before entering?The room will be previously cleaned and sanitized according to the Stanza Semplice® standards. Upon your arrival the room will be clean and sanitized through the use of disinfectants and ozone treatments that make the room safe and healthy.The cleaning company will have already carried out its task according to the most recent regulations related to the emergency from COVID-19.Upon delivery we will provide you with a new hygienic mattress cover. You just have to bring your pillow, sheets, blankets or duvet.', "If my room hasn't been cleaned, what should I do?In case this should unfortunately happen (very difficult), no problem.Contact your Apartment Manager who will immediately resolve the problem.", 'Cleaning management of shared spaces. How does it happen?Your Apartment Manager will provide information to allow the apartment members to better manage the cleaning of the common areas.', 'Stanza Semplice® offers cleaning service?Sure!If you and your roommates agree, you can delegate the cleaning of the common areas to an external company; contact your Apartment Manager for more information.', 'How recycling works?Stanza Semplice® pays particular attention to environmental issues and energy saving.For this reason, he is confident that all students belonging to the Stanza Semplice® Club will embrace and share this important ethical principle.We ask all our tenants to carry out the separate collection in a correct and conscious way, following all the instructions you will receive from your Apartment Manager.Properly sorting waste is the responsibility and obligation of each individual tenant, all of which is regulated by municipal and national laws.Any penalties deriving from inappropriate use of separate waste collection are the responsibility of all tenants.However, we ask you to pay particular interest and attention to this issue, informing yourself in advance with your Apartment Manager upon entering your room.', 'With Stanza Semplice® do I have maintenance included?Entry to the Stanza Semplice® Club offers maintenance services included in the price.For this reason, all maintenance will be paid for by Stanza Semplice® and will be carried out in a reasonable time depending on the level of urgency.However, it should be noted that, in the event that the failures derive from misuse, neglect, willful misconduct or inexperience, the Stanza Semplice® technicians will be able to convey the restoration by charging the amount of the intervention to the tenants or to the person directly responsible, if identified.In this case, a separate invoice will be issued.', 'What should I do to have a maintenance intervention?In the event of maintenance, please contact your Apartment Manager.Based on the type of intervention we will understand how to intervene,  in order to solve the problem as quickly as possible.To intervene correctly and promptly, sometimes you will be asked to make a short video or some photographs concerning the problem.', 'How much time is required to resolve the maintenance?The time needed to solve maintenance problems varies according to the urgency of the intervention and its extent.Some interventions can be resolved within a day, others can take up to 10 days.In cases of particularly complex extraordinary maintenance, times could be further extended.In any case, you can ever refer to your Apartment Manager.', 'Who should I contact in case of an emergency?In the event of a proven emergency, use the telephone numbers you find in the Stanza Semplice® regulation.When your Apartment Manager hands over the room, will provide you all the information to solve any emergency.What could be the emergencies?Gas leaksFiresFloodingLocks blocked such as not to allow entry/exitTheftsHealth emergencies', "What should I do if the internet does not work?All our apartments are equipped with a high-speed internet connection and, in some cases, also with direct optical fiber.The fastest solution to resolve line breakages or slowdowns is to call the provider directly and report the problem.The operator's assistance will guide you step by step to solve the problem immediately.If the malfunction persists, contact your Apartment Manager.", 'How to make the payment in case of damage?If maintenance occurs for reasons of neglect, willful misconduct, or misuse, the restoring cost will be charged through a regular invoice.The invoice will be sent to you by e-mail.', 'Which keys I will receive?Upon delivery of the room, you will receive the keys to the entrance door on the ground floor, the apartment door, and your room.You can find the keys of any appliances (counters, post office, waste bins, cellar, garage) inside the apartment, in a single copy, and available to all tenants.', "My apartment keys have been stolen or I have lost them. How can I do?We recommend paying the utmost attention in carefully storing the keys received.However, if you lose them, it is important to carefully follow the following procedure:Notify your Apartment Manager immediatelyFile a complaint to the policeSend a copy of the report to your Apartment Manager who will notify the condominium administrator. This person will decide whether to replace the entrance door lock.Ask your Apartment Manager how to proceed following the decision of the condominium administratorIf the keys are easily replaceable, you can proceed independently by duplicating one of your roommates' keys In this case, you only will have to bear the cost of the duplicationIf this is not possible, your Apartment Manager will provide them to you at € 50", 'What equipment do the apartments have?All our houses are furnished and equipped to allow every student to find immediately everything they need for everyday life.At home you will find at your disposal:Cutlery and kitchen knivesDishesCookwareGlassesLadlesMugsWashing machineFridge and freezerIroning boardBroom, bucket, and mopClotheslineWaste recycling bins', "What do I NOT find at home?Some appliances and accessories are not included in the apartments' equipment. Find them below:MicrowaveVacuum cleanerCoffee makerMixerIronCooling fanThese and other accessories can be purchased independently. However,  it happens very often that former tenants of these apartments have left some endowments as a legacy.", 'Do I have to send the fee payment trace monthly?The Stanza Semplice® administration will associate each student with the relative payment in a very short time. However, to speed up the process, a monthly payment trace is welcome. Anyway, in case of outstanding payments, you will be asked to send the balance accountant.', 'When will I receive the invoices?Stanza Semplice® issues invoices monthly. Therefore, you will find a regular invoice every month in your reserved area.', 'Do I have to pay a security deposit?Stanza Semplice® does not require any kind of deposit from the student.Despite this, it is important to know that in case of damage, negligence, or willful misconduct, an invoice will be issued to guarantee the restoration. Everything will be endorsed by one of our operators who will certify the damage. However, you can always count on your Apartment Manager for any reports.', 'What happens if I have done some damage?In presence of damage to the furniture or structure (walls, windows, floor, etc) while handing back the room, our qualified technicians will certify the extent of the damage. The restoration amount will be charged to you. However, if this happens, we ask you not to wait for the delivery of the room. Notify promptly your Apartment Manager.', 'Do I have to register the utilities in my name?No, you will not have to register any users. The room prices already include:electricity, water, gascondominium feeswaste chargesWIFI networkrentmaintenance', 'Are there any adjustment costs on consumption?There are no adjustments costs on consumption. However, in case of disproportionate consumption, an adjustment may be requested on the related bills. There are pre-established parameters to be respected.', "How do I organize the room's hand back?Arrange with your Apartment Manager the procedure to give back the room.A few days before your departure, the Apartment Manager will go to your apartment, and together you will check the conditions of the room. Its state should correspond to the one in which the room was delivered (delivery report).It is not allowed to leave the room without carrying out the inspection together with your Apartment Manager.", "Where will take place the room's hand back?The room's hand back will take place inside your apartment.You and your Apartment Manager must be present. Define directly with him the date and time.", 'How do hand back the room?The Apartment Manager will check the status of the room and apartment assessing the conditions and any anomalies.After that, you will deliver the set of keys to your Apartment Manager. Everything will be documented.', 'Are any documents requested to hand back the room?No, it is no necessary any document to hand back the room.', 'What should I do when I leave the apartment?It is requested to empty your room. This will allow us to organize cleaning and the new tenant entering.We also ask you to remove all your provisions from the refrigerator and pantry. Do not forget to collect your properties from the bathroom locker.Besides, it is important to free common spaces from your items. In case you want to discard them, use the waste collection centers or the appropriate condominium containers.'],
   examples_context="In 2017, U.S. life expectancy was 78.6 years.",
   examples=[["What is human life expectancy in the United States?",
              "78 years."]],
   max_tokens=50,
   stop=["\n", "<|endoftext|>"])
  with open('results_qa_gpt-3', 'a') as f:
   writer = csv.writer(f)
   writer.writerow([question, response["answers"]])
  return response

if __name__ == '__main__':

 qa = Responder()
 qa.answer_to("How is the contract?")